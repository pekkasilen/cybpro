(this.webpackJsonplogregtest=this.webpackJsonplogregtest||[]).push([[0],{40:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(32),c=a.n(s),o=(a(40),a(10)),u=a.n(o),i=a(16),j=a(7),l=a(17),b=a.n(l),d=a(20),h=a(14),O=a(35),p=a(34),g=a(21),x=a(0),f=function(e){var t=e.password,a=e.setPassword,n=e.handleSubmit,r=e.handleRegistrationSubmit,s=(e.token,e.userName),c=e.setUserName,o=e.regUserName,u=e.setRegUserName,i=e.regPassword,j=e.setRegPassword;return Object(x.jsxs)("div",{children:[Object(x.jsx)("h2",{children:"Login"}),Object(x.jsxs)(d.a,{onSubmit:n,children:[Object(x.jsxs)(h.a,{children:[Object(x.jsx)(O.a,{children:"username"}),Object(x.jsx)(p.a,{autoFocus:!0,type:"text",value:s,onChange:function(e){return c(e.target.value)}})]}),Object(x.jsxs)(h.a,{children:[Object(x.jsx)(O.a,{children:"password"}),Object(x.jsx)(p.a,{type:"password",value:t,onChange:function(e){return a(e.target.value)}})]}),Object(x.jsx)(g.a,{type:"submit",children:"Login"})]}),Object(x.jsx)("h2",{children:"Or maybe try registration?"}),Object(x.jsxs)(d.a,{onSubmit:r,children:[Object(x.jsxs)(h.a,{children:[Object(x.jsx)(O.a,{children:"username"}),Object(x.jsx)(p.a,{autoFocus:!0,type:"text",value:o,onChange:function(e){return u(e.target.value)}})]}),Object(x.jsxs)(h.a,{children:[Object(x.jsx)(O.a,{children:"password"}),Object(x.jsx)(p.a,{type:"password",value:i,onChange:function(e){return j(e.target.value)}})]}),Object(x.jsx)(g.a,{type:"submit",children:"Register"})]})]})},m=function(e){var t=e.balance;return Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{children:"login ok"}),Object(x.jsxs)("p",{children:["Balance is ",t]})]})};var v=function(){var e=Object(n.useState)(""),t=Object(j.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)(""),c=Object(j.a)(s,2),o=c[0],l=c[1],d=Object(n.useState)(""),h=Object(j.a)(d,2),O=h[0],p=h[1],g=Object(n.useState)(""),v=Object(j.a)(g,2),w=v[0],S=v[1],y=Object(n.useState)(""),k=Object(j.a)(y,2),N=k[0],P=k[1],C=Object(n.useState)(""),R=Object(j.a)(C,2),F=R[0],U=R[1],I=Object(n.useState)(!1),L=Object(j.a)(I,2),T=L[0],B=L[1],D=Object(n.useState)(""),J=Object(j.a)(D,2),z=(J[0],J[1]),E=function(){var e=Object(i.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log("username:",a),console.log("password:",o),e.next=5,b.a.post("http://localhost:8000/login",{username:a,password:o});case 5:n=e.sent,localStorage.setItem("jwtToken",n.data),P(n.data),B(!0),console.log(n.data),q();case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(i.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,b.a.post("http://localhost:8000/register",{username:O,password:w});case 3:a=e.sent,z(a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(i.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("jwtToken"),e.next=3,b.a.get("http://localhost:8000/balance",{headers:{authorization:"bearer "+t}});case 3:a=e.sent,U(a.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(x.jsx)("div",{children:T?Object(x.jsx)(m,{balance:F}):Object(x.jsx)(f,{password:o,setPassword:l,handleSubmit:E,handleRegistrationSubmit:M,token:N,userName:a,setUserName:r,regUserName:O,setRegUserName:p,regPassword:w,setRegPassword:S})})},w=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,64)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),s(e),c(e)}))};c.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(v,{})}),document.getElementById("root")),w()}},[[63,1,2]]]);
//# sourceMappingURL=main.92dbad4c.chunk.js.map