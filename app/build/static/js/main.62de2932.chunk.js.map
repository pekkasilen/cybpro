{"version":3,"sources":["LoginAndRegistration.js","MainPage.js","App.js","reportWebVitals.js","index.js"],"names":["LoginAndRegistration","password","setPassword","handleSubmit","handleRegistrationSubmit","userName","token","setUserName","regUserName","setRegUserName","regPassword","setRegPassword","Form","onSubmit","FormGroup","FormLabel","FormControl","autoFocus","type","value","onChange","e","target","Button","MainPage","balance","amount","setAmount","receiver","setReceiver","requestTransaction","App","useState","setToken","secretData","setSecretData","loggedIn","setLoggedIn","setRegistrationStatus","transactionRequested","setTransactionRequested","useEffect","a","getToken","localStorage","getItem","headers","authorization","data","axios","post","get","response","console","log","event","preventDefault","username","setItem","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.62de2932.chunk.js","sourcesContent":["import Form from \"react-bootstrap/Form\";\r\nimport { FormGroup } from \"react-bootstrap\";\r\nimport { FormLabel } from \"react-bootstrap\";\r\nimport { FormControl } from \"react-bootstrap\";\r\nimport Button from \"react-bootstrap/Button\";\r\nconst LoginAndRegistration = ({\r\n  password,\r\n  setPassword,\r\n  handleSubmit,\r\n  handleRegistrationSubmit,\r\n  token,\r\n  userName,\r\n  setUserName,\r\n  regUserName,\r\n  setRegUserName,\r\n  regPassword,\r\n  setRegPassword\r\n}) => {\r\n  return (\r\n    <div>\r\n      <h2>Login</h2>\r\n      <Form onSubmit={handleSubmit}>\r\n        <FormGroup>\r\n          <FormLabel>username</FormLabel>\r\n          <FormControl\r\n          autoFocus\r\n            type=\"text\"\r\n            value={userName}\r\n            onChange={(e) => setUserName(e.target.value)}\r\n          />\r\n        </FormGroup>\r\n        <FormGroup>\r\n          <FormLabel>password</FormLabel>\r\n          <FormControl\r\n            type=\"password\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n          />\r\n        </FormGroup>\r\n        <Button type=\"submit\">Login</Button>\r\n      </Form>\r\n      <h2>Or maybe try registration?</h2>\r\n      <Form onSubmit={handleRegistrationSubmit}>\r\n        <FormGroup>\r\n          <FormLabel>username</FormLabel>\r\n          <FormControl\r\n            autoFocus\r\n            type=\"text\"\r\n            value={regUserName}\r\n            onChange={(e) => setRegUserName(e.target.value)}\r\n          />\r\n        </FormGroup>\r\n        <FormGroup>\r\n          <FormLabel>password</FormLabel>\r\n          <FormControl\r\n            type=\"password\"\r\n            value={regPassword}\r\n            onChange={(e) => setRegPassword(e.target.value)}\r\n          />\r\n        </FormGroup>\r\n        <Button type=\"submit\">Register</Button>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginAndRegistration;\r\n","import Form from \"react-bootstrap/Form\";\r\nimport {useEffect, useState} from 'react'\r\nimport { FormGroup } from \"react-bootstrap\";\r\nimport { FormLabel } from \"react-bootstrap\";\r\nimport { FormControl } from \"react-bootstrap\";\r\nimport Button from \"react-bootstrap/Button\";\r\n\r\nconst MainPage = ({\r\n  balance,\r\n  amount,\r\n  setAmount,\r\n  receiver,\r\n  setReceiver,\r\n  requestTransaction,\r\n}) => {\r\n  return (\r\n    <div>\r\n      <h1>login ok</h1>\r\n      <p>Balance is {balance}</p>\r\n      <h2>Would You like to make a transfer?</h2>\r\n      <Form onSubmit={requestTransaction}>\r\n        <FormGroup>\r\n          <FormLabel>Amount:</FormLabel>\r\n          <FormControl\r\n            autoFocus\r\n            type=\"text\"\r\n            value={amount}\r\n            onChange={(e) => setAmount(e.target.value)}\r\n          />\r\n        </FormGroup>\r\n        <FormGroup>\r\n          <FormLabel>To:</FormLabel>\r\n          <FormControl\r\n            type=\"text\"\r\n            value={receiver}\r\n            onChange={(e) => setReceiver(e.target.value)}\r\n          />\r\n        </FormGroup>\r\n        <Button type=\"submit\">Make transfer</Button>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MainPage;\r\n","import axios from \"axios\";\nimport { useState, useEffect } from \"react\";\nimport LoginAndRegistration from \"./LoginAndRegistration\";\nimport MainPage from \"./MainPage\";\n\nfunction App() {\n  const [userName, setUserName] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [regUserName, setRegUserName] = useState(\"\");\n  const [regPassword, setRegPassword] = useState(\"\");\n  const [token, setToken] = useState(\"\");\n  const [secretData, setSecretData] = useState(\"\");\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [registrationStatus, setRegistrationStatus] = useState(\"\");\n  const [receiver, setReceiver] = useState(\"\");\n  const [amount, setAmount] = useState(0);\n  const [transactionRequested, setTransactionRequested] = useState(false);\n  \n  useEffect(async () => {\n    let getToken = localStorage.getItem(\"jwtToken\");\n    const headers = {\n      authorization: \"bearer \" + getToken\n    }\n    const data = {\n        \"receiver\":receiver,\n        \"amount\":amount\n    }\n    await axios.post(\"http://localhost:8000/transfer\", data,{\n      headers:headers\n    });\n    let response = await axios.get(\"http://localhost:8000/balance\", {\n      headers: {\n        authorization: \"bearer \" + getToken,\n      },\n    });\n    setSecretData(response.data);\n  },[transactionRequested])\n\n  useEffect(async () => {\n    let getToken = localStorage.getItem(\"jwtToken\");\n    let response = await axios.get(\"http://localhost:8000/balance\", {\n      headers: {\n        authorization: \"bearer \" + getToken,\n      },\n    });\n    setSecretData(response.data);\n    console.log(response.data)\n    console.log(\"secretdata\",secretData);\n  },[loggedIn, transactionRequested])\n\n  const updateAmount = (e) => {\n    setAmount(e);\n  }\n\n  const updateReceiver = (e) => {\n    setReceiver(e);\n  }\n\n  const requestTransaction = (event) => {\n    event.preventDefault();\n    setTransactionRequested(true);\n  }\n  \n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    console.log(\"username:\", userName);\n    console.log(\"password:\", password);\n    let response = await axios.post(\"http://localhost:8000/login\", {\n      username: userName,\n      password: password,\n    });\n    localStorage.setItem(\"jwtToken\", response.data);\n    setToken(response.data);\n    setLoggedIn(true);\n    console.log(response.data);\n  };\n\n  const handleRegistrationSubmit = async (event) => {\n    event.preventDefault();\n    let response = await axios.post(\"http://localhost:8000/register\", {\n      username: regUserName,\n      password: regPassword,\n      balance: 0,\n    });\n    setRegistrationStatus(response.data);\n  };\n\n  \n\n  //Tää pitäis saada ny seuraavaksi kuntoon\n  \n\n  return (\n    <div>\n      <h2>Quick transfer application</h2>\n      {!loggedIn ? (\n        <LoginAndRegistration\n          password={password}\n          setPassword={setPassword}\n          handleSubmit={handleSubmit}\n          handleRegistrationSubmit={handleRegistrationSubmit}\n          token={token}\n          userName={userName}\n          setUserName={setUserName}\n          regUserName={regUserName}\n          setRegUserName={setRegUserName}\n          regPassword={regPassword}\n          setRegPassword={setRegPassword}\n        />\n      ) : (\n        <MainPage\n          balance={secretData}\n          amount={amount}\n          setAmount={setAmount}\n          receiver={receiver}\n          setReceiver={setReceiver}\n          requestTransaction={requestTransaction}\n        />\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}