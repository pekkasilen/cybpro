(this.webpackJsonplogregtest=this.webpackJsonplogregtest||[]).push([[0],{40:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(32),c=a.n(s),o=(a(40),a(9)),u=a.n(o),i=a(16),j=a(6),l=a(12),b=a.n(l),d=a(14),h=a(19),O=a(35),p=a(34),g=a(15),x=a(0),f=function(e){var t=e.password,a=e.setPassword,n=e.handleSubmit,r=e.handleRegistrationSubmit,s=(e.token,e.userName),c=e.setUserName,o=e.regUserName,u=e.setRegUserName,i=e.regPassword,j=e.setRegPassword;return Object(x.jsxs)("div",{children:[Object(x.jsx)("h2",{children:"Login"}),Object(x.jsxs)(d.a,{onSubmit:n,children:[Object(x.jsxs)(h.a,{children:[Object(x.jsx)(O.a,{children:"username"}),Object(x.jsx)(p.a,{autoFocus:!0,type:"text",value:s,onChange:function(e){return c(e.target.value)}})]}),Object(x.jsxs)(h.a,{children:[Object(x.jsx)(O.a,{children:"password"}),Object(x.jsx)(p.a,{type:"password",value:t,onChange:function(e){return a(e.target.value)}})]}),Object(x.jsx)(g.a,{type:"submit",children:"Login"})]}),Object(x.jsx)("h2",{children:"Or maybe try registration?"}),Object(x.jsxs)(d.a,{onSubmit:r,children:[Object(x.jsxs)(h.a,{children:[Object(x.jsx)(O.a,{children:"username"}),Object(x.jsx)(p.a,{autoFocus:!0,type:"text",value:o,onChange:function(e){return u(e.target.value)}})]}),Object(x.jsxs)(h.a,{children:[Object(x.jsx)(O.a,{children:"password"}),Object(x.jsx)(p.a,{type:"password",value:i,onChange:function(e){return j(e.target.value)}})]}),Object(x.jsx)(g.a,{type:"submit",children:"Register"})]})]})},m=function(e){var t=e.balance,a=e.amount,n=e.setAmount,r=e.receiver,s=e.setReceiver,c=e.requestTransaction;return Object(x.jsxs)("div",{children:[Object(x.jsx)("h1",{children:"login ok"}),Object(x.jsxs)("p",{children:["Balance is ",t]}),Object(x.jsx)("h2",{children:"Would You like to make a transfer?"}),Object(x.jsxs)(d.a,{onSubmit:c,children:[Object(x.jsxs)(h.a,{children:[Object(x.jsx)(O.a,{children:"Amount:"}),Object(x.jsx)(p.a,{autoFocus:!0,type:"text",value:a,onChange:function(e){return n(e.target.value)}})]}),Object(x.jsxs)(h.a,{children:[Object(x.jsx)(O.a,{children:"To:"}),Object(x.jsx)(p.a,{type:"text",value:r,onChange:function(e){return s(e.target.value)}})]}),Object(x.jsx)(g.a,{type:"submit",children:"Make transfer"})]})]})};var v=function(){var e=Object(n.useState)(""),t=Object(j.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)(""),c=Object(j.a)(s,2),o=c[0],l=c[1],d=Object(n.useState)(""),h=Object(j.a)(d,2),O=h[0],p=h[1],g=Object(n.useState)(""),v=Object(j.a)(g,2),w=v[0],S=v[1],k=Object(n.useState)(""),y=Object(j.a)(k,2),C=y[0],R=y[1],N=Object(n.useState)(""),P=Object(j.a)(N,2),T=P[0],F=P[1],U=Object(n.useState)(!1),I=Object(j.a)(U,2),D=I[0],L=I[1],z=Object(n.useState)(""),A=Object(j.a)(z,2),B=(A[0],A[1]),E=Object(n.useState)(""),q=Object(j.a)(E,2),J=q[0],M=q[1],Q=Object(n.useState)(0),W=Object(j.a)(Q,2),Y=W[0],G=W[1],H=Object(n.useState)(!1),K=Object(j.a)(H,2),V=K[0],X=K[1];Object(n.useEffect)(Object(i.a)(u.a.mark((function e(){var t,a,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("jwtToken"),a={authorization:"bearer "+t},n={receiver:J,amount:Y},e.next=5,b.a.post("http://localhost:8000/transfer",n,{headers:a});case 5:return e.next=7,b.a.get("http://localhost:8000/balance",{headers:{authorization:"bearer "+t}});case 7:r=e.sent,F(r.data);case 9:case"end":return e.stop()}}),e)}))),[V]),Object(n.useEffect)(Object(i.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("jwtToken"),e.next=3,b.a.get("http://localhost:8000/balance",{headers:{authorization:"bearer "+t}});case 3:a=e.sent,F(a.data),console.log(a.data),console.log("secretdata",T);case 7:case"end":return e.stop()}}),e)}))),[D,V]);var Z=function(){var e=Object(i.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log("username:",a),console.log("password:",o),e.next=5,b.a.post("http://localhost:8000/login",{username:a,password:o});case 5:n=e.sent,localStorage.setItem("jwtToken",n.data),R(n.data),L(!0),console.log(n.data);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(i.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,b.a.post("http://localhost:8000/register",{username:O,password:w,balance:0});case 3:a=e.sent,B(a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{children:[Object(x.jsx)("h2",{children:"Quick transfer application"}),D?Object(x.jsx)(m,{balance:T,amount:Y,setAmount:G,receiver:J,setReceiver:M,requestTransaction:function(e){e.preventDefault(),X(!0)}}):Object(x.jsx)(f,{password:o,setPassword:l,handleSubmit:Z,handleRegistrationSubmit:$,token:C,userName:a,setUserName:r,regUserName:O,setRegUserName:p,regPassword:w,setRegPassword:S})]})},w=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,64)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),s(e),c(e)}))};c.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(v,{})}),document.getElementById("root")),w()}},[[63,1,2]]]);
//# sourceMappingURL=main.62de2932.chunk.js.map